---
title: 开始
order: 1
toc: content
nav:
  path: /backend
  title: 后端
  order: 0
group:
  path: /c/c++
  title: C++
  order: 1
---

## 1. 编写一个简单的 C++程序

每个 C++ 程序都包含一个或多个函数 ( function )， 其中一个必须命名为 main。操作系统通过调用 main 运行 C++程序。下面是一个非常简单的 main 函数，它什么也不干， 只是返回给操作系统一个值

```cpp
int main() {
    return 0;
}

// 请注意 ， return 语句末的分号。在 C++ 中，大多数 C++ 语句以分号表示结束。
// 它们很容易被忽略，但如果忘记了写分号，就会导致莫名其妙的編译错误
```

在大多数系统中，`main` 的返回值被用来指示状态。返回值`0`表明成功，非`0`的返回值的含义由系統定义，通常用来指出错误类型。

## 2. 编译、运行程序

### 2.1 程序源文件命名约定

不同编译器使用不同的后级命名约定，最常见的包括 `.cc` 、`.cxx`、`.cpp`、`.cp`及`.c`。

### 2.2 从命令行运行编译器

```bash
$ CC prog1.cc
```

其中，`CC` 是编译器程序的名字，`$` 是系统提示符。编译器生成一个可执行文件。 Windows 系统会将这个可执行文件命名为 `prog1.exe`。 UNIX 系统中的编详器通常将可执行文件命名为 `a.out` 。

## 3. 初识输入输出

C++语言并未定义任何输入输出(IO)语句 ，取而代之，包含了一个全面的标准库。`iostream` 库包含两个基础类型 `istream` 和 `ostream`，分别表示输入流和输出流。一个流就是一个字符序列，是从`IO`设备读出或写入`IO`设备的。

### 3.1 标准输入输出对象

`cin` `cout` `clog` `cerr`

例子

```cpp
#include <iostream>

int main() {
    std::cout << "输入两个数字" << std::endl;
    int v1 = 0, v2 = 0;
    std::cin >> v1 >> v2;
    std::cout << " The sum of " << v1 << " and " << v2 << " is " << v1 + v2 << std::endl;
    return 0;
}

```

这个程序开始时在用户屏幕打印 '输入两个数字';然后等待用户输入。如果用户键入 3 7 然后键入一 个回车， 则程序产生如下输出: The sum of 3 and 7 is 10

程序的第一行 #include <iostream> 告诉编详器我们想要使用 `iostream` 库。尖括号中的名字(本例中是 iostream)指出了一个头文件 (header)。每个使用标准库设施的程序都必须包含相关的头文件。 `#include` 指令和头文件的名宇必须写在同一行中。通常情况下，`#include` 指令必须出现在所有函数之外。我们一般将一个程序的所有`#include` 指令都放在源文件的开始位置。

`main`的函数体的第一条语句执行了一个表达式。在 C++中，一个表达式产生一个计算结果，它由一个或多个运算对象和(通常是)一个运算符组成。这条语句中的表达式使用了`输出运算符` `<<`在标准输出上打印消息。

`<<运算符`接受两个运算对象:左侧的运算对象必须是一个 ostream 对象，右侧的运算对象是要打印的值。此运算符将给定的值写到给定的 ostream 对象中。输出运算符的计算结果就是其左侧运算对象。即，计算结果就是我们写入给定值的那个 ostream 对象。

我们的输出语句使用了两次`<<运算符`。因为此运算符返回其左侧的运算对象，因此第一个运算符的结果成为了第二个运算符的左侧运算对象。

这样，我们就可以将输出请求连接起来。因此，我们的表达式等价于 `(std::cout<<"Enter two numbers:") << std::endl;` 链中每个运算待的左侧运算对系都是相同的，在本例中是 `std::cout`。我们也可以用两条语向生成相同的输出:

`std::cout << "Enter two numbers:"`

`std::cout << std::endl;`

第一个输出运算符给用户打印一条消息。这个消息是一个字符串字面值常量，是用一对双引号包围的字符序列。在双引号之间的文本被打印到标准输出。

第二个运算符打印 endl ，这是一个被称为`操纵符`的特殊值。写入 `endl` 的效果是结束当前行，并将与设备关联的缓冲区中的内容刷到设备中。缓冲刷新操作可以保证到目前为止程序所产生的所有输出都真正写入输出流中，而不是仅停留在内存中等待写入流。

<Alert>程序员常常在调试时添加打印语句。这类语句应该保证“ 一直” 刷新流。否則， 如果程序崩溃，输出可能还留在缓冲区中，从而导致关于程序前溃位置的错误推断</Alert>

### 3.2 使用标准库中的名宇

前缀 `std:` 指出名宇 `cout` 和 `endl` 是定义在名为 `std` 的命名空间中的 。命名空间可以帮助我们避免不经意的名字定义冲突，以及使用库中相同名字号致的冲突。标准库定义的所有名字都在命名空间 `std` 中。

通过命名空间使用标准库有一个副作用: 当使用标准库中的一个名字时，必领显式说明我们想使用来自命名空间 std 中的名字。例如，需要写出 std::cout，通过使用作用域运算符`::` 来指出我们想使用定义在命名空间 std 中的名宇 cout。

### 3.3 从流读取数据

`std::cin >> v1 >> v2;`

它读入输入数据。 输入运算符 `>>` 与输出运算符类似，它接受一个 istream 作为其左侧运算对象，接受一个对象作为其右侧运算对象。它从给定的 istream 读入数据，并存入给定对象中。与输出运算符类似，输入运算符返回其左侧运算对象作为其计算结果。

因此，此表达式等价于

`( std::cin >> v1) >> v2;`

由于此运算符返回其左侧运算对象，因此我们可以将一系列输入请求合并到单一语句中。 例中的输入操作从 std::cin 读入两个值，并将第一个值存入 v1，将第二个值存入 v2。

换句话说，它与下面两条语句的执行结果是一样的

`std::cin >> v1; `

`std::cin >> v2;`

## 4. 注释简介

**单行注释** 以双斜线`//`开始，以换 行符结束。

**多行注释** `/*` `*/`

## 5. 控制流

### 5.1 while 语句

求 1 到 10 这 10 个数之和

```cpp
#include <iostream>

int main () {
    int sum = 0, val = 1;
    while(val<=10){
        sum += val;
        ++val;
    }
    std::cout << "Sum of 1 to 10 inclusive is"
              << sum << std::endl;
    return 0 ;
}
// Sum of 1 to 10 inclusive is 55
```

### 5.2 for 语句

求 1 到 10 这 10 个数之和

```cpp
#include <iostream>

int main () {
    int sum = 0;
    for (int val = 1; val <= 10; ++val)
        sum += val;
    std::cout << "Sum of 1 to 10 inclusive is"
              << sum << std::endl;
    return 0 ;
}
// Sum of 1 to 10 inclusive is 55
```

#### 5.2.1 读取数量不定的输人数据

实现对用户输入的一组数求和。在这种情况下，我们预先不知道要对多少数求和，这就需要不析读取数据直至没有新的输入为止

```cpp
#include <iostream>

int main () {
   int sum = 0, value = 0;
   while(std::cin >> value){
     sum += value;
   }
   std::cout << "Sum is: "<< sum << std::endl;
   return 0 ;
}
// Sum of 1 to 10 inclusive is 55
```

### 5.3 if 语句

```cpp
#include <iostream>

int main () {
 int val = 0;
 std::cin >> val;
 if(val > 5)
   std::cout << "val 大于 5 "
 else {
   std::cout << "val 小于等于 5 "
 }
 return 0 ;
}

```

## 6. 类简介

我们通过定义一个类(class)来定义自己的数据结构。一个类定义了一个类型，以及与其关联的一组操作。

例：

```cpp
#include <iostream>
#include "Sales item.h"

int main () {
  Sales_item book;
  // 读入ISBN号、售出的册数以及销售价格
  std::cin >> book;
  // 写人ISBN、售出的册数、总销售额和平均价格 std::cout <<book<<std::endl;
  return 0;
}

```
